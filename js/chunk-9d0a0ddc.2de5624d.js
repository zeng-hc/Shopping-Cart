(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d0a0ddc"],{"159b":function(t,e,i){var n=i("da84"),o=i("fdbc"),c=i("17c2"),s=i("9112");for(var r in o){var a=n[r],l=a&&a.prototype;if(l&&l.forEach!==c)try{s(l,"forEach",c)}catch(d){l.forEach=c}}},"17c2":function(t,e,i){"use strict";var n=i("b727").forEach,o=i("a640"),c=o("forEach");t.exports=c?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"6e30":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABJ0lEQVQ4T+2TMU7EMBBF/4+IBMWWK3EAVkggGiQog0fp6YCWC8ABaNiKC1BxAgo6CrpoTJQKSqCCAyBxAIqQHWSUoOwqWfYAuLJmvp9nxt9Ez1JVB+AIwDLJO+fcTZeUXcE8zzeqqnqpc58AVkgedkE6Aap6CeBYRAYBoqrXANZFZHv2QhZFMSjL8ravlSZOctfMHtq6OI73fyrIsmwcRdFe2E8mk/t5sLYuTdPxbwuqquGgiMg8wKyuE5Dn+TBJko82qIktBFBVC8UAOA8tRVHkwyxFhP+ABWfgvT8ws0cAS/VLfJHcCVbuHaL3/sTMTkVk9IcPnkleOeeC3dH2wRqAVwDhE015oAUcAtgEMBKRtylA/WlWzeyM5FZXFWb2RPJCRN6b/Ddmgc5qAXy1SwAAAABJRU5ErkJggg=="},a640:function(t,e,i){"use strict";var n=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},be02:function(t,e,i){},f0ad:function(t,e,i){"use strict";i("be02")},f0b6:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("van-nav-bar",{attrs:{title:"我的订单","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),n("van-popup",{staticClass:"del_order",attrs:{"close-on-click-overlay":!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("p",[t._v(t._s(1==t.status?"是否确认收货":"是否删除订单"))]),n("button",{class:0===t.showIndex?"active":"",on:{click:t.cancel}},[t._v(" 取消 ")]),n("button",{class:1===t.showIndex?"active":"",on:{click:t.determine}},[t._v(" 确定 ")])]),n("div",{staticClass:"order_body"},[n("div",{staticClass:"order_head"}),n("div",{staticClass:"order_content"},[n("ul",t._l(t.StatusArr,(function(e,i){return n("li",{key:i,on:{click:function(e){return t.Active(i)}}},[n("span",{class:t.activeIndex===i?"active":""},[t._v(t._s(e))])])})),0),n("div",[2!==t.activeIndex?n("div",t._l(t.noComplete,(function(e,i){return n("div",{key:i},[n("div",[n("p",[t._v(t._s(e[0].oid))]),n("button",{on:{click:function(i){return t.Order(e[0].oid,1)}}},[t._v("确认收货")])]),n("div",t._l(e,(function(e,i){return n("div",{key:i},[n("img",{attrs:{src:e.smallImg,alt:"#"}}),n("div",[n("span",{staticStyle:{color:"#666","margin-right":"10px","font-size":"14px"}},[t._v(t._s(e.name))]),n("span",{staticStyle:{color:"#999"}},[t._v(t._s(e.rule))]),n("p",{staticStyle:{"margin-top":"10px",color:"#999"}},[t._v(" "+t._s(e.enname)+" ")]),n("div",[n("span",{staticStyle:{color:"#0c34ba","font-weight":"bold","font-size":"14px"}},[t._v("¥ "+t._s(e.price))]),n("span",{staticStyle:{color:"#666","margin-right":"20px"}},[t._v("x"+t._s(e.count))])])])])})),0),n("div",[n("div"),n("div"),n("p",{staticStyle:{color:"#999"}},[t._v(t._s(t._f("formatDate")(e[0].updatedAt)))]),n("div",[n("span",{staticStyle:{color:"#999","font-weight":"bold","font-size":"14px"}},[t._v("共计"+t._s(t.num[0][i])+"件")]),n("span",{staticStyle:{color:"#0c34ba","font-weight":"bold","font-size":"14px"}},[t._v("合计 ¥ "+t._s(t.price[0][i]))])])])])})),0):t._e(),1!==t.activeIndex?n("div",t._l(t.complete,(function(e,o){return n("div",{key:o},[n("div",[n("p",[t._v(t._s(e[0].oid))]),n("div",{staticStyle:{display:"flex","align-item":"center"}},[n("span",[t._v("已完成")]),n("img",{staticStyle:{"margin-left":"10px"},attrs:{src:i("6e30"),alt:"#"},on:{click:function(i){return t.Order(e[0].oid,2)}}})])]),n("div",t._l(e,(function(e,i){return n("div",{key:i},[n("img",{attrs:{src:e.smallImg,alt:"#"}}),n("div",[n("span",{staticStyle:{color:"#666","margin-right":"10px","font-size":"14px"}},[t._v(t._s(e.name))]),n("span",{staticStyle:{color:"#999"}},[t._v(t._s(e.rule))]),n("p",{staticStyle:{"margin-top":"10px",color:"#999"}},[t._v(" "+t._s(e.enname)+" ")]),n("div",[n("span",{staticStyle:{color:"#0c34ba","font-weight":"bold","font-size":"14px"}},[t._v("¥ "+t._s(e.price))]),n("span",{staticStyle:{color:"#666","margin-right":"20px"}},[t._v("x"+t._s(e.count))])])])])})),0),n("div",[n("div"),n("div"),n("p",{staticStyle:{color:"#999"}},[t._v(t._s(t._f("formatDate")(e[0].updatedAt)))]),n("div",[n("span",{staticStyle:{color:"#999","font-weight":"bold","font-size":"14px"}},[t._v("共计"+t._s(t.num[1][o])+"件")]),n("span",{staticStyle:{color:"#0c34ba","font-weight":"bold","font-size":"14px"}},[t._v("合计 ¥ "+t._s(t.price[1][o]))])])])])})),0):t._e()])])])],1)},o=[],c=(i("e7e5"),i("d399")),s=(i("159b"),{name:"MyOrder",data:function(){return{token:"",activeIndex:0,StatusArr:["全部","进行中","已完成"],complete:[],noComplete:[],num:[[],[]],price:[[],[]],show:!1,showIndex:"",oid:"",status:""}},methods:{cancel:function(){var t=this;this.showIndex=0,this.show=!1,setTimeout((function(){t.showIndex=""}),300)},determine:function(){var t=this;if(this.showIndex=1,1===this.status)var e="/receive";else e="/removeOrder";this.axios({method:"POST",url:e,data:{tokenString:this.token,oid:this.oid}}).then((function(e){setTimeout((function(){Object(c["a"])(e.data.msg),t.show=!1,t.showIndex=""}),300),t.FindOrder()})).catch((function(t){}))},onClickLeft:function(){this.$router.push({name:"My"})},Active:function(t){this.activeIndex=t},FindOrder:function(){var t=this;this.axios({method:"GET",url:"/findOrder",params:{tokenString:this.token,status:this.activeIndex}}).then((function(e){t.complete=[],t.noComplete=[],t.num=[[],[]],t.price=[[],[]];var i=[],n=[];e.data.result.forEach((function(e){if(1===e.status){var o=n.indexOf(e.oid);-1===o?(n.push(e.oid),t.noComplete.push([e]),t.num[0].push(e.count),t.price[0].push(e.count*e.price)):(t.noComplete[o].push(e),t.num[0][o]+=e.count,t.price[0][o]+=e.count*e.price)}else{o=i.indexOf(e.oid);-1===o?(i.push(e.oid),t.complete.push([e]),t.num[1].push(e.count),t.price[1].push(e.count*e.price)):(t.complete[o].push(e),t.num[1][o]+=e.count,t.price[1][o]+=e.count*e.price)}}))})).catch((function(t){}))},Order:function(t,e){this.show=!0,this.oid=t,this.status=e}},created:function(){this.token=this.$cookies.get("token"),this.FindOrder()},watch:{activeIndex:function(){this.FindOrder()}}}),r=s,a=(i("f0ad"),i("2877")),l=Object(a["a"])(r,n,o,!1,null,"0908c98f",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-9d0a0ddc.2de5624d.js.map