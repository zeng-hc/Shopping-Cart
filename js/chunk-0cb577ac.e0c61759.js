(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cb577ac"],{"02d8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACoUlEQVRYR8WXwXLTMBCGf8kzudYlcMYk3EmfgOQJCE9AeAJ6BJcZwgx1ucEjpE9A+wSEJ2i4Ezs5t+o41zKRGMmWRzZxZJuQ6rherb7dlXbXBJblem89h9IrCDFj0dlAq7ve2HXoXVSUy+/tjh8LILoNgyObfWJTePj0fV9w/l3qsTDI9Mvkjzy/xymuivpl51gBHnROjgnEFwArFgauNtTuvhtCkG9VwRoDtJ+cTEDEKxD8YPOgnwGkcgHy8zY87WXyjv8VwBsASxYGni3CWyNgegmC12weTKRBM/wE+HgTBmMpN8NvyrdBlAJklw9wTS+zywfIdCzXvNWLF+M4lcvcS69Xa97ypLxxBLLQA6AcR9eLYKZuuE4JAELp4ObXp6mKSscfC+CDOpCIl2x+dmE7XKmWKbU7vlDfBDln0enIyLH06mCDfAHgcfGu2CA2AuRyaXiZpiVS5IY8ffsJcA3vSyNQ5e2veetQ59jUN9Nl874KQO7tVwEzi1VjABVqh06IwFQ/MWmsXD52HefuAgIzFgbHVQ7WOtZKWMdYE10FIC/dmuJFEwNV9jgcl/oZF/UVQLvrTyHwvIqxJjoCmJV1xgRAv/km1qvuEWIKQmSbnnHOz+PFZ1k3kkK0F4A8aEw5BjIt9wUACFyyKBhqgKSM7nfFLAwO93IJN/qVzhf3B5A2OQWQa6V7SoNuZgmAMXju5XyjxWel+D8WoxUI1DCTroke7XLdMO31UvFgh1FYUY5+WRnOAeiewCnkiLULCOvhfwFIgRwuKf09JRDP/iESS8ox3Oa5tl0+kjmQ8339xRGvRWtUZSLeGAF9onyaXBbMmosQLM1LZttun4ptForfC39Qtu3bAJLxu+7aGUDXH0Goe1AHYkUoHeqflSrsfwCvb30wrzdgcAAAAABJRU5ErkJggg=="},"781f":function(t,e,o){"use strict";o("899c")},"899c":function(t,e,o){},a55b:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"L_content"},[o("div",{staticClass:"L_head"},[t._m(0),o("button",{on:{click:t.GoLook}},[t._v("先逛一逛")])]),o("div",{staticClass:"L_body"},[o("h1",[t._v(t._s(0==t.Status?"欢迎回来!":"找回密码!"))]),o("p",[t._v(" "+t._s(0==t.Status?"Please login to your accounts":"Find passwoed")+" ")]),o("div",{staticClass:"login-form"},[o("van-form",[1==t.Status?o("van-field",{attrs:{name:"邮箱",label:"邮箱",placeholder:"邮箱"},model:{value:t.mailboxInfo.email,callback:function(e){t.$set(t.mailboxInfo,"email",e)},expression:"mailboxInfo.email"}}):t._e(),1==t.Status?o("div",{staticStyle:{position:"relative"}},[o("van-field",{attrs:{type:"text",name:"验证码",label:"验证码",placeholder:"验证码（6个字符）"},model:{value:t.mailboxInfo.VerificationCode,callback:function(e){t.$set(t.mailboxInfo,"VerificationCode",e)},expression:"mailboxInfo.VerificationCode"}}),o("button",{staticClass:"yzmbtn",style:"发送验证码"==t.outTime?"":"background-color:#ccc;color:black",on:{click:t.SendOut}},[t._v(" "+t._s(t.outTime)+" ")])],1):t._e(),1!=t.Status?o("van-field",{attrs:{name:"手机号",label:"手机号",placeholder:"输入手机号"},model:{value:t.loginUserInfo.phone,callback:function(e){t.$set(t.loginUserInfo,"phone",e)},expression:"loginUserInfo.phone"}}):t._e(),1!=t.Status?o("van-field",{attrs:{type:t.LoginStatus?"password":"text",name:"密码",label:"密码",placeholder:"输入密码","right-icon":t.LoginStatus?"closed-eye":"eye-o"},on:{"click-right-icon":t.toggleLoginPassword},model:{value:t.loginUserInfo.password,callback:function(e){t.$set(t.loginUserInfo,"password",e)},expression:"loginUserInfo.password"}}):t._e(),o("div",{staticClass:"forgot",on:{click:t.ForgetPass}},[o("div",{staticClass:"forgot-text"},[t._v(" "+t._s(0==t.Status?"忘记密码？":"已有账号，立即登录")+" ")])]),o("div",{staticClass:"login-btn"},[o("van-button",{attrs:{round:"",block:"",color:"#0C34BA","native-type":"submit"},on:{click:t.login}},[t._v(t._s(t.btnTxt[t.Status]))])],1),1!=t.Status?o("div",{staticClass:"login-btn",on:{click:t.RegisterShow}},[o("van-button",{attrs:{round:"",block:""}},[t._v(t._s(0==t.Status?"注 册":"返 回"))])],1):t._e()],1)],1)]),o("van-popup",{attrs:{position:"bottom",closeable:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[o("div",{staticClass:"register"},[o("h2",[t._v("注册")]),o("div",[o("van-form",{on:{submit:t.register}},[o("van-field",{attrs:{name:"手机号",label:"手机号",placeholder:"输入手机号(11位)",autocomplete:"off"},model:{value:t.regUserInfo.phone,callback:function(e){t.$set(t.regUserInfo,"phone",e)},expression:"regUserInfo.phone"}}),o("van-field",{attrs:{type:t.passwordStatus?"password":"text",name:"密码",label:"密码",placeholder:"输入密码(必须字母开头6-16位)","right-icon":t.passwordStatus?"closed-eye":"eye-o",autocomplete:"off"},on:{"click-right-icon":t.toggleRegPassword},model:{value:t.regUserInfo.password,callback:function(e){t.$set(t.regUserInfo,"password",e)},expression:"regUserInfo.password"}}),o("van-field",{attrs:{type:"text",name:"昵称",label:"昵称",placeholder:"输入昵称(支持中英文组合1-10位)",autocomplete:"off"},model:{value:t.regUserInfo.nickName,callback:function(e){t.$set(t.regUserInfo,"nickName",e)},expression:"regUserInfo.nickName"}}),o("div",{staticClass:"login-btn"},[o("van-button",{attrs:{round:"",block:"",color:"#0C34BA","native-type":"submit"}},[t._v("注 册")])],1)],1)],1)])])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{attrs:{src:o("02d8"),alt:"#"}}),s("span",[t._v("Luckin Coffee")])])}],n=(o("e7e5"),o("d399")),i={name:"Login",data:function(){return{Status:0,btnTxt:["登  录","下一步","提交"],show:!1,loginUserInfo:{phone:"",password:""},regUserInfo:{phone:"",password:"",nickName:""},mailboxInfo:{email:"",VerificationCode:""},passwordStatus:!0,LoginStatus:!0,outTime:"发送验证码"}},methods:{SendOut:function(){var t=this,e=/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/;if(e.test(this.mailboxInfo.email)){if("发送验证码"==this.outTime){this.outTime=59;var o=setInterval((function(){1==t.outTime?(t.outTime="发送验证码",clearInterval(o)):t.outTime--}),1e3);this.axios({method:"POST",url:"/emailValidCode",data:{email:this.mailboxInfo.email}}).then((function(t){Object(n["a"])(t.data.msg)})).catch((function(t){}))}}else Object(n["a"])("邮箱格式不正确")},ForgetPass:function(){0==this.Status?this.Status=1:this.Status=0,this.loginUserInfo.phone="",this.loginUserInfo.password=""},GoLook:function(){this.$router.push({name:"Myhome"})},onSubmit:function(t){},RegisterShow:function(){2!=this.Status?this.show=!0:this.Status=0},register:function(){var t=this,e=/^1[3-9]\d{9}/;if(e.test(this.regUserInfo.phone)){var o=/^[A-Za-z][A-Za-z\d]{5,15}/;if(o.test(this.regUserInfo.password)){var s=/^[A-Za-z\u4e00-\u9fa5]{1,10}/;s.test(this.regUserInfo.nickName)?this.axios({method:"POST",url:"/register",data:this.regUserInfo}).then((function(e){Object(n["a"])(e.data.msg),100==e.data.code&&(t.show=!1)})).catch((function(t){})):Object(n["a"])("昵称格式不正确")}else Object(n["a"])("密码格式不正确")}else Object(n["a"])("手机号码格式不正确")},toggleRegPassword:function(){this.passwordStatus=!this.passwordStatus},toggleLoginPassword:function(){this.LoginStatus=!this.LoginStatus},login:function(){var t=this;if(0==this.Status){var e=/^1[3-9]\d{9}/;if(!e.test(this.loginUserInfo.phone))return void Object(n["a"])("手机号码格式不正确");var o=/^[A-Za-z][A-Za-z\d]{5,15}/;if(!o.test(this.loginUserInfo.password))return void Object(n["a"])("密码格式不正确");this.axios({method:"POST",url:"/login",data:this.loginUserInfo}).then((function(e){Object(n["a"])(e.data.msg),200==e.data.code&&(t.$cookies.set("token",e.data.token,3600),setTimeout((function(){t.$router.push({name:"Myhome"})}),2e3))})).catch((function(t){}))}else if(1==this.Status){var s=/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/;if(!s.test(this.mailboxInfo.email))return void Object(n["a"])("邮箱格式不正确");this.axios({method:"POST",url:"/checkValidCode",data:{validCode:this.mailboxInfo.VerificationCode}}).then((function(e){Object(n["a"])(e.data.msg),"K001"==e.data.code&&(t.Status=2)})).catch((function(t){}))}else if(2==this.Status){var a=/^[A-Za-z][A-Za-z\d]{5,15}/;if(!a.test(this.loginUserInfo.password))return void Object(n["a"])("密码格式不正确");this.axios({method:"POST",url:"/retrievePassword",data:{phone:this.loginUserInfo.phone,password:this.loginUserInfo.password}}).then((function(e){Object(n["a"])(e.data.msg),t.loginUserInfo.phone="",t.loginUserInfo.password="","L001"==e.data.code&&(t.Status=0)})).catch((function(t){}))}}}},l=i,r=(o("781f"),o("2877")),c=Object(r["a"])(l,s,a,!1,null,"716527a4",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-0cb577ac.e0c61759.js.map