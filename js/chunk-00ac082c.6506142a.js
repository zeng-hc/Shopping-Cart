(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00ac082c"],{"0f2a":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADR0lEQVRYR82XTUgUYRjH/8/MQVFCIu0DCjMqKKpLQR1KIqMOQVGgRVDQxb5o5h2k7WAgQR3akHlnwz68BB2iNIKCDkVWWIeE6lBRUFFaQV9GSKzoYeaJV2ZkVnfdWXdA57gzz/v89/l6fw8h4pNIJGYMDQ1t1jRtNzMvJaJKALN88z/M3E9E7z3Pu1FaWvogmUz+i3I05ftICLEMwDFm3kNEMwH0MvNbIvpFRL+VPTNXMfNsIloOYCEz/yWi6wDOSynfTeRjQgFCiNPKOYDvRHTRdd2uVCr1ZqIDDcNYoet6HTMfBjDPF3Eyl01OAUKIbgAbACR1XT/X2trany9a4fdNTU2VruseB5AA8ERKWZvNPqsAIYQKbSUzNziO01mI47HfmqZZT0QdAPqllFVj348TIIT4rPJIREts2/5YjPPA1rKsxcz8QdWPlLImfGaGAMuyOpi5npnnOo7zMw7nwRmmac4hoh9E1GnbdkPw+6gAv+CaiWirbdv343QeisQWZr4H4IyUcqQwRwT4rfYMwCUp5YlCnZum2QbgcZR6EUKcBXAIwDrVooGACwA26bq+vtBqV2JDqctbtH53PAXwUEp5hBobGyvKy8v7AJyybdsu9N+HwhvUT14RlmVZAFrS6XQ1CSH2Abjqed6aVCr1YrICComEYRirNU17DmA/maZ5k4jWSikXFOO80EgIIb4yc48S8FKNWsdxtsUhIGokTNO8q0a1SsEXAF1SygNxCYgiQghxBUCdEpAmojbbttXMzniEEI9iELURQI2Usjd8lmVZSWY+Oi0ETG0KpkMRKnJRbZhxS00291Gnon/r9pBhGDs1Tbvled7KfLSTT1RU54qaNE177XneLlKwOTw83KdpmhrFTj4nud5Hde63qOl5XktJSUn11F9G0+I69kUoAm6OgwNzpSnEh5lAEhgEJBwnD4YuqYALMwg5G5QGRBwbFwY8mI2Mc2F5QMZF86FlWQEHjiPiUSbMlrOgreJYTMaScNhfIavZZdd1u/NRk6IdXddrmflgUatZqDBHllMi2svMFQC+MfOrHMvpKgDziWiAma8VvZyGQ6XgtaysbDsz7wCwKNt6DuATEd0eHBy8097ePhBlqv4H73pBTHpDz6gAAAAASUVORK5CYII="},"239e":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADzElEQVRYR82XW2hcVRSG/3W2JiGxVlHpk1ZrEVR8EEW84F3w8tBaxVYEfZKAIzmzDsFI1EcvGAlnZYIj5LEPYuK1ffAC3qpURag+iApSq9WnYkVrTUhiz16y4j7lzORMZhrH2g3zdNbln73W3vtbhA7XyMjImvn5+VuiKNqmqhcQ0ZkAzgjuv6rqQSL6zns/3dfX9+7Y2NjhTkJTOyNmvhDAkKreS0Snt7O376r6GxG9BGBSRL5dyWdFAcz8pCUHcCqA3wF8CGCX9/5zVT2QZdkBC+6cW0dE66IougLA9QBuAHAagD+CiCdaiWgpgJk/AnBtcJwhotE0Tfd1sgNJkmxQ1WcAbA32H4vIdWW+pQKY+RcAVuNMVUcnJiae6yRxs021Wn2EiEyIA3BQRM5qtlkmgJl/AHAugPdF5ObVJG72Yeb3ANwE4EcROa/4vUFAkiQzqnoPgBkR2daN5HkMZp62khDRy2ma5qXBUQGh4R4HcERETu5m8oKIvwCcBOApEVlqzCUB4ah9Frr9DhF56z8ScDuAN8PpuNKOaC6gDuAhIqqnafpwSQ0/ANDrnHtwfHz8m5XEDQ8PX+S9366qh0XkxmbbJEmeV9UKgBdEpEKDg4NrBwYG9qsqee8vqdVqP5UI+ATAVQC+ds5tbSXCkmdZNgPgYiLak6bp5c2x4jg+J4qir4hIZ2dn1xMz3w9gO4B3ROS2sn9XDNxKRCc2hV54G8CtAB6garX6ChHdDeAxEbEzW7pWSnAsyUPPjQJ4WlVfNQFfENGl3vtrarWabXXLVZbIjPNtb1eiPHAcx1dHUbRbVb+0EljNz86ybOPk5OT37bq/ScTeYL+x0+RmPzQ0dL5zznx/NgGzAPoXFxfX1Ov1P9sJsO9BxA4AltjWXufc5nYnJI9dqVRO6enpsed67oQQ8P+W4ERoQiMXe3gSEZHjdAwZQApgmuI43hJF0WsA3hCRLcfpInodwJ3e+7vIYHNhYWE//bMuK6MeZu7aVRxoaY+qam9v7/qGx6gVBzBz1x6jnAuOPkbNz7GqjqwWwdrdIQHRxpY9x0GEEbABSSYiBg1dX8x8JPBhI5AUXqmchLvGg4XYORc2EHIZlOZE3DUuLNR9GRm3wvKcjG3LNq0W0ZjZEGxn4MBlRGy703IwKRAyDNWyLHu2jJbKGsWoxzn3aEAv828g4aLPsYxmNmZ9GkazXS1GMxvL7Gf4ZuPc6kezQvMsDadEdJ+qru3kaBDRIVV98V8Pp8VkBq/9/f2bVHUzgA1l4zmAfUS0Y25ubufU1NShTsT+DY9sbEwi55vlAAAAAElFTkSuQmCC"},a20e:function(t,s,n){},d00c:function(t,s,n){"use strict";n("a20e")},ef6a:function(t,s,n){"use strict";n.r(s);var o=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{on:{click:t.AntiShake}},[o("van-nav-bar",{attrs:{title:"账号设置","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),o("div",{staticClass:"Account_body"},[o("div",{staticClass:"Account_head"}),o("div",{staticClass:"Account_content"},[o("ul",[o("li",{on:{click:function(s){return t.AccountSet(0)}}},[o("span",[t._v("修改密码")]),o("img",{attrs:{src:n("0f2a"),alt:"#"}})]),o("li",{on:{click:function(s){return t.AccountSet(1)}}},[o("span",[t._v("注销账号")]),o("img",{attrs:{src:n("0f2a"),alt:"#"}})])])]),o("div",{staticClass:"Account_footer"},[o("button",{on:{click:function(s){return t.AccountSet(2)}}},[t._v("退出登录")])])]),o("van-popup",{staticClass:"Acc_popup",attrs:{position:"bottom","close-on-click-overlay":!1},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[0===t.status?o("div",{staticClass:"modify",style:0===t.status?"height: 200px;":""},[o("div",[o("p",[t._v("修改密码")]),o("img",{attrs:{src:n("239e"),alt:"#"},on:{click:t.close}})]),o("div",{staticClass:"modify_content"},[o("van-form",{on:{submit:t.register}},[o("van-field",{attrs:{type:t.oldPassStatus?"password":"text","right-icon":t.oldPassStatus?"closed-eye":"eye-o",name:"旧密码",label:"旧密码",placeholder:"输入旧密码",autocomplete:"off"},on:{"click-right-icon":t.toggleOldPass},model:{value:t.oldPass,callback:function(s){t.oldPass=s},expression:"oldPass"}}),o("van-field",{attrs:{type:t.newPassStatus?"password":"text",name:"新密码",label:"新密码",placeholder:"输入新密码(必须字母开头6-16位)","right-icon":t.newPassStatus?"closed-eye":"eye-o",autocomplete:"off"},on:{"click-right-icon":t.toggleNewPass},model:{value:t.newPass,callback:function(s){t.newPass=s},expression:"newPass"}}),o("div",{staticClass:"login-btn"},[o("van-button",{attrs:{round:"",block:"",color:"#0C34BA","native-type":"submit"}},[t._v("确 认 修 改")])],1)],1)],1)]):t._e(),0!==t.status?o("div",{staticClass:"queding"},[1===t.status?o("p",[t._v("一旦注销账号将无法再登录此账号，请谨慎操作")]):t._e(),o("button",{on:{click:t.close}},[t._v("取消")]),o("button",{on:{click:function(s){return t.AccountOperation(2)}}},[t._v("确认")])]):t._e()])],1)},a=[],e=(n("e7e5"),n("d399")),i={name:"AccountSet",data:function(){return{show:!1,token:"",status:0,oldPassStatus:!0,newPassStatus:!0,newPass:"",oldPass:"",phone:""}},methods:{AntiShake:function(){if(null==this.token)return!0},toggleNewPass:function(){this.newPassStatus=!this.newPassStatus},toggleOldPass:function(){this.oldPassStatus=!this.oldPassStatus},register:function(){var t=this,s=/^[A-Za-z][A-Za-z\d]{5,15}/;s.test(this.oldPass)&&s.test(this.newPass)?(this.FindPersonData(),this.axios({method:"POST",url:"/updatePassword",data:{tokenString:this.token,password:this.newPass,oldPassword:this.oldPass}}).then((function(s){Object(e["a"])(s.data.msg),"E001"==s.data.code&&(t.Login(),t.oldPass="",t.newPass="",t.show=!1)})).catch((function(t){}))):Object(e["a"])("密码格式不正确")},FindPersonData:function(){var t=this;this.axios({method:"GET",url:"/findAccountInfo",params:{tokenString:this.token}}).then((function(s){t.phone=s.data.result[0].phone})).catch((function(t){}))},Login:function(){var t=this;this.axios({method:"POST",url:"/login",data:{phone:this.phone,password:this.newPass}}).then((function(s){t.$cookies.remove("token"),t.$cookies.set("token",s.data.token,3600),t.token=t.$cookies.get("token")})).catch((function(t){}))},onClickLeft:function(){this.$router.push({name:"My"})},AccountSet:function(t){this.AntiShake()||(this.show=!0,this.status=t)},close:function(){var t=this;this.show=!1,setTimeout((function(){t.status=0}),300)},AccountOperation:function(){var t=this;if(2===this.status)var s="/logout";else if(1===this.status)s="/destroyAccount";this.axios({method:"POST",url:s,data:{tokenString:this.token}}).then((function(s){t.show=!1,Object(e["a"])(s.data.msg),t.$cookies.remove("token"),t.token=null,t.status=0,setTimeout((function(){t.$router.push({name:"My"})}),2e3)})).catch((function(t){}))}},created:function(){this.token=this.$cookies.get("token")}},c=i,u=(n("d00c"),n("2877")),l=Object(u["a"])(c,o,a,!1,null,"5e38a3ed",null);s["default"]=l.exports}}]);
//# sourceMappingURL=chunk-00ac082c.6506142a.js.map