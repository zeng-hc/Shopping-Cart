(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ccae1ed"],{"4c41":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"My_con"},[n("img",{attrs:{src:null==t.token?i("c784"):t.Data.userBg,alt:"#"},on:{click:t.showPopup}}),n("div",{staticClass:"My_body"},[n("van-popup",{staticClass:"Per_edit",attrs:{"close-on-click-overlay":!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("van-uploader",{staticClass:"uploader",style:"photograph"==t.fileImg?"font-size: 20px !important;":"font-size: 100px !important;",attrs:{"upload-icon":t.fileImg,"after-read":t.afterRead}}),n("div",[n("button",{class:0===t.active?"active":"",on:{click:t.cancel}},[t._v(" 取消 ")]),n("button",{class:1===t.active?"active":"",on:{click:t.determine}},[t._v(" 确定 ")])])],1),n("div",[n("div",[n("img",{attrs:{src:null==t.token?i("9fce"):t.Data.userImg,alt:"#"}}),n("div",[null==t.token?n("div",[n("p",{staticStyle:{"font-size":"14px","font-weight":"bold"}},[t._v("未登录")]),n("p",{staticStyle:{"font-size":"16px","font-weight":"bold","margin-top":"10px"},on:{click:t.Login}},[t._v(" 点击跳转登录 ")])]):t._e(),null!=t.token?n("div",[n("p",{staticStyle:{color:"#0c34ba","font-size":"14px","font-weight":"bold"}},[t._v(" "+t._s(t.Data.nickName)+" ")]),n("p",{staticStyle:{color:"#999","font-size":"12px",margin:"10px 0"}},[t._v(" "+t._s(t.Data.desc)+" ")])]):t._e()])]),n("ul",t._l(t.MyData,(function(e,a){return n("li",{key:a,on:{click:function(e){return t.GoTo(a)}}},[n("span",[t._v(t._s(e.title))]),n("img",{attrs:{src:i("0f2a"),alt:"#"}})])})),0)])],1)])},a=[],o=i("5530"),s=(i("e7e5"),i("d399")),c=(i("ac1f"),i("1276"),i("b0c0"),{name:"My",data:function(){return{MyData:[{title:"个人资料",path:"PersonalData"},{title:"我的订单",path:"MyOrder"},{title:"我的收藏",path:"MyCollection"},{title:"地址管理",path:"Address"},{title:"账号设置",path:"AccountSet"}],token:"",Data:[],show:!1,active:"",fileImg:"photograph",ImgData:{},StartTime:""}},mounted:function(){this.token=this.$cookies.get("token"),this.FindMy()},methods:{AntiShake:function(){if(""==this.StartTime)this.StartTime=(new Date).getTime();else{var t=(new Date).getTime();if(t-this.StartTime<2e3)return!0}},FindMy:function(){var t=this;""!=this.token&&this.axios({method:"GET",url:"/findMy",params:{tokenString:this.token}}).then((function(e){t.Data=e.data.result[0],""==t.Data.desc&&(t.Data.desc="这家伙很懒，什么都没留下")})).catch((function(t){}))},Login:function(){this.AntiShake()||this.$router.push({name:"Login"})},GoTo:function(t){var e=this;if(null==this.token){if(this.AntiShake())return;return Object(s["a"])("您尚未登录，请先前去登录"),void setTimeout((function(){e.$router.push({name:"Login"})}),2e3)}this.$router.push({name:this.MyData[t].path})},showPopup:function(t,e){var i=this;if(null==this.token){if(this.AntiShake())return;return Object(s["a"])("您尚未登录，请先前去登录"),void setTimeout((function(){i.$router.push({name:"Login"})}),2e3)}this.show=!0},afterRead:function(t){var e=t.content.split(",")[1],n=t.content.split(";")[0].split("/")[1],a={serverBase64Img:e,imgType:n,tokenString:this.token};this.ImgData=a,this.fileImg=i("7584")("./"+t.file.name)},cancel:function(){var t=this;this.show=!1,this.active=0,this.fileImg="photograph",setTimeout((function(){t.active=""}),300)},determine:function(){var t=this;this.active=1,setTimeout((function(){t.active=""}),300),this.axios({method:"POST",url:"/updateUserBg",data:Object(o["a"])({},this.ImgData)}).then((function(e){t.FindMy(),t.fileImg="photograph",setTimeout((function(){t.show=!1,Object(s["a"])(e.data.msg)}),1e3)})).catch((function(t){}))}}}),r=c,l=(i("dca2"),i("2877")),u=Object(l["a"])(r,n,a,!1,null,"d3268efa",null);e["default"]=u.exports},"4df6":function(t,e,i){},dca2:function(t,e,i){"use strict";i("4df6")}}]);
//# sourceMappingURL=chunk-3ccae1ed.0e16f5cd.js.map